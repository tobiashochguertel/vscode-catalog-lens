#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run lint with auto-fix
echo "ğŸ“ Linting and auto-fixing..."
pnpm lint:fix || {
  echo "âŒ Lint failed! Some issues couldn't be auto-fixed."
  echo "ğŸ’¡ Review the errors above and fix manually."
  exit 1
}

# Run type check
echo "ğŸ”§ Type checking..."
pnpm typecheck || {
  echo "âŒ Type check failed!"
  exit 1
}

# Run build
echo "ğŸ—ï¸  Building..."
pnpm build || {
  echo "âŒ Build failed!"
  exit 1
}

echo "âœ… All pre-commit checks passed!"
